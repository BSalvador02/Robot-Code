/*RobotCode
MOTOR CONTROLLER 29  <-------->  ARDUINO
 ============================================= 
 WHITE (signal)           Digital pin 9
 RED (power)              VIN (Battery Power -- 5V works too, but won't be as strong or fast)
 BLACK (ground)           Ground (GND)                    
*/
#define trigPinLeft 13
#define echoPinLeft 12
#define rightMotorPin 9
#define leftMotorPin 10
#define trigPinRight 8
#define echoPinRight 7
#define trigPinFront 6
#define echoPinFront 5
#define trigPinBack 4
#define echoPinBack 3

#include "vexMotor.h" // includes the vexMotor library - uses Servo.h
                      // -- do not #include <Servo.h> 
                      
vexMotor RightMotor;  // creates an instance of the vexMotor class
vexMotor LeftMotor;
// create an instance for each motor that is connected
// to your device.

void setup()
{
  pinMode(trigPinLeft, OUTPUT);

   pinMode(echoPinLeft, INPUT);
  
   pinMode(trigPinRight, OUTPUT);

   pinMode(echoPinRight, INPUT);
  
   pinMode(trigPinFront, OUTPUT);

   pinMode(echoPinFront, INPUT);
  
   pinMode(trigPinBack, OUTPUT);

   pinMode(echoPinBack, INPUT);
  RightMotor.attach(rightMotorPin); // setup / attach the vexMotor onto rightMotorPin
  LeftMotor.attach(leftMotorPin);
  Serial.begin(9600);    // starts the Serial communication on Arduino
//sensor detection part of the code goes here
}
 
void loop()
{
  long LeftSensorDistance;
  LeftSensorDistance = SensorDistance(0);
  if (LeftSensorDistance < 10)
  {
    TurnRight();
  }
}
 void TurnRight() 
{
   RightMotor.write(-100);
   LeftMotor.write(100);
   delay(1000*2);
   RightMotor.write(0);
   LeftMotor.write(0);
 }

long SensorDistance(int SensorChoice)
{
  long duration, distance;
  digitalWrite(trigPinLeft, LOW);

  delayMicroseconds(2);

  digitalWrite(trigPinLeft, HIGH);

  delayMicroseconds(10);

  digitalWrite(trigPinLeft, LOW);

  duration = pulseIn(echoPinLeft, HIGH);

  distance = (duration/2) / 29.1;
  return distance;
}
