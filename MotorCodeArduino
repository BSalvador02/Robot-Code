/*RobotCode
MOTOR CONTROLLER 29  <-------->  ARDUINO
 ============================================= 
 WHITE (signal)           Digital pin 9
 RED (power)              VIN (Battery Power -- 5V works too, but won't be as strong or fast)
 BLACK (ground)           Ground (GND)                    
*/
#define trigPin 13

#define echoPin 12

#include "vexMotor.h" // includes the vexMotor library - uses Servo.h
                      // -- do not #include <Servo.h> 
                      
vexMotor RightMotor;  // creates an instance of the vexMotor class
// create an instance for each motor that is connected
// to your device.

void setup()
{
  pinMode(trigPin, OUTPUT);

  pinMode(echoPin, INPUT);

  RightMotor.attach(9); // setup / attach the vexMotor onto pin 9
  Serial.begin(9600);    // starts the Serial communication on Arduino
//sensor detection part of the code goes here
}
 
void loop()
{
  long LeftSensorDistance;
  LeftSensorDistance = SensorDistance(0);
  if (LeftSensorDistance < 10)
  {
    TurnRight();
  }
}
 void TurnRight() 
{
   RightMotor.write(-100);
   //LeftMotor.write(100);
   delay(1000*2);
   RightMotor.write(0);
   //LeftMotor.write(0);
 }

long SensorDistance(int SensorChoice)
{
  long duration, distance;
  digitalWrite(trigPin, LOW);

  delayMicroseconds(2);

  digitalWrite(trigPin, HIGH);

  delayMicroseconds(10);

  digitalWrite(trigPin, LOW);

  duration = pulseIn(echoPin, HIGH);

  distance = (duration/2) / 29.1;
  return distance;
}
